<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Verification</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet"><style>*{box-sizing:border-box;user-select:none}body{margin:0;height:100vh;background:#0b0b0b;color:#fff;font-family:Poppins,sans-serif;display:flex;align-items:center;justify-content:center;padding:10px}.card{background:#111;border-radius:20px;padding:40px 36px;width:100%;max-width:360px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,.6)}.icon{font-size:40px;margin-bottom:12px}h1{font-size:22px;margin:0 0 6px;font-weight:600}p{font-size:14px;opacity:.7;margin-bottom:30px}.hold-btn{position:relative;width:120px;height:120px;border-radius:50%;background:#fff;color:#0b0b0b;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:20px;font-weight:500;transition:transform .15s ease;margin:0 auto}.hold-btn:active{transform:scale(.96)}.hold-btn svg{position:absolute;top:0;left:0;transform:rotate(-90deg);width:100%;height:100%}circle{fill:none;stroke:#0b0b0b;stroke-width:6;stroke-linecap:round;stroke-dasharray:314;stroke-dashoffset:314;transition:stroke-dashoffset .05s linear}</style></head><body><div class="card"><div class="icon"><i class="fas fa-shield-alt"></i></div><h1>Beanie's Bunker Verification</h1><p id="p">Checking queue…</p><div class="hold-btn" id="b"><svg viewBox="0 0 120 120"><circle cx="60" cy="60" r="50"></circle></svg><span id="t">Wait</span></div></div><script>(()=>{const i=location.pathname.split("/").pop(),b=document.getElementById("b"),c=b.querySelector("circle"),t=document.getElementById("t"),p=document.getElementById("p");let h=0,m=null,q=!1,vf=!1,seconds=0;const d=2e3;const updateQueue=async()=>{if(vf)return;try{const r=await fetch("/status/"+i),j=await r.json();if(j.verified){vf=!0;t.textContent="Verified ✅";b.style.background="#22c55e";b.style.color="#fff";b.style.pointerEvents="none";p.textContent="Verification complete";return}if(j.queuePosition>1){q=!0;seconds=(j.queuePosition-1)*2;p.textContent=`Your turn in ${seconds}s`;t.textContent="Wait";b.style.pointerEvents="none"}else{q=!1;t.textContent="Hold";p.textContent="You are next — hold to verify";b.style.pointerEvents="auto"}}catch(e){}};setInterval(()=>{updateQueue();seconds>0&&(seconds--,q&&(p.textContent=`Your turn in ${seconds}s`))},1e3);const s=e=>{if(q||vf)return;e.preventDefault();if(m)return;m=setInterval(()=>{h+=100;let r=Math.min(h/d,1);c.style.strokeDashoffset=314*(1-r);h>=d&&(clearInterval(m),m=null,v())},100)},x=e=>{e.preventDefault();clearInterval(m);m=null;h=0;c.style.strokeDashoffset=314},v=()=>{fetch("/verify/"+i,{method:"POST"}).then(()=>{vf=!0;t.textContent="Verified";b.style.background="#22c55e";b.style.color="#fff";b.style.pointerEvents="none";p.textContent="Verification complete"})};b.addEventListener("mousedown",s);b.addEventListener("mouseup",x);b.addEventListener("mouseleave",x);b.addEventListener("touchstart",s);b.addEventListener("touchend",x);b.addEventListener("touchcancel",x)})();</script></body></html>
